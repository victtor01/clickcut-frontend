<div
  class="flex flex-col gap-3 bg-white rounded-lg dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 shadow-xl"
>
  <header class="flex items-center justify-between p-3 border-b border-zinc-300 dark:border-zinc-800">
    <div class="flex items-center gap-3">
      <i class="material-icons-outlined text-gray-500 dark:text-gray-400 !text-xl">calendar_month</i>
      <h2 class="text-lg text-gray-500 dark:text-gray-400">Agendamentos na Hora</h2>
    </div>

    <button
      type="button"
      (click)="close()"
      class="w-8 h-8 hover:bg-zinc-100 text-gray-500 dark:hover:bg-zinc-800 rounded-full dark:text-white grid place-items-center transition-colors"
    >
      <i class="material-icons text-xl">close</i>
    </button>
  </header>

  <section class="flex flex-col gap-2 p-2 px-3 pb-3 max-h-[60vh] overflow-y-auto">
    @for (booking of bookings; track booking.id) {
    <a
      [routerLink]="['/bookings', booking.id]"
      [attr.data-late]="isLate(booking)"
      (click)="close()"
      class="flex items-start gap-3 p-3 text-zinc-800 dark:text-zinc-200 border-l-4 border-indigo-500 bg-indigo-50 dark:bg-indigo-900/40 rounded-r-md data-[late=true]:bg-rose-500/10 data-[late=true]:border-rose-500"
    >
      <div class="flex-shrink-0 pt-1">
        <span
          [attr.data-late]="isLate(booking)"
          class="material-icons-outlined text-indigo-600 dark:text-indigo-400 data-[late=true]:text-rose-500"
        >
          bookmark
        </span>
      </div>

      <div class="flex-1 flex flex-col">
        <h3 class="font-semibold text-base text-indigo-800 dark:text-indigo-200">
          {{ booking.title }}
        </h3>
        <p class="text-sm text-zinc-500 dark:text-zinc-200">
          {{ booking.startAt | date: "HH:mm" }} - {{ booking.endAt | date: "HH:mm" }}
        </p>
        <div class="mt-2">
          <span
					 [attr.data-late]="isLate(booking)"
            class="text-xs font-medium px-2 py-1 rounded-full bg-indigo-200 text-indigo-800 data-[late=true]:bg-rose-500 data-[late=true]:text-white"
          >
            {{ booking.status }}
          </span>
        </div>
      </div>
    </a>
    } @empty {
    <div
      class="flex flex-col items-center justify-center text-center p-8 text-zinc-500 dark:text-zinc-400"
    >
      <span class="material-icons-outlined text-4xl mb-2">event_busy</span>
      <p class="font-medium">Nenhum agendamento</p>
      <p class="text-sm">Não há agendamentos para esta hora.</p>
    </div>
    }
  </section>
</div>
