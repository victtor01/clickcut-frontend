<nav
  class="hidden lg:flex flex-col border-r h-full flex-1 w-64 px-3 border-zinc-200 dark:border-zinc-800 text-gray-500 dark:text-white"
>
  <a
    routerLink="/home"
    class="w-10 h-10 bg-zinc-100 dark:bg-zinc-900 my-1 mb-4 rounded-full grid place-items-center"
  >
    <i class="material-icons-outlined">arrow_back_ios_new</i>
  </a>

  <header class="mb-8">
    <h1 class="text-2xl saira-font font-semibold text-gray-500 dark:text-zinc-100">
      Configurações
    </h1>
    <p class="text-sm text-gray-500 dark:text-zinc-400">Gerencie suas preferências</p>
  </header>

  <ul class="flex flex-col">
    @for (item of navItems; let index = $index; track item.label) {
      @if (index == 0) {
        <span class="px-3 font-bold text-gray-400 dark:text-indigo-200 mb-2 saira-font"
          >Minha conta</span
        >
      }

      @if (index == 3) {
        <span class="px-3 font-bold mt-5 text-gray-400 dark:text-indigo-200 mb-2 saira-font"
          >Loja</span
        >
      }

      <li>
        @if (!item.subItems) {
          <a
            [routerLink]="item.path"
            [routerLinkActiveOptions]="{ exact: true }"
            routerLinkActive="bg-violet-100 text-violet-700 dark:bg-zinc-800 dark:text-zinc-50"
            class="flex w-full items-center gap-3 p-2 mb-2 rounded-md transition-colors hover:bg-gray-100 dark:hover:bg-zinc-800"
          >
            <i class="text-xl w-6 material-symbols-outlined">{{ item.icon }}</i>
            <span class="font-medium">{{ item.label }}</span>
          </a>
        } @else {
          <div>
            <button
              (click)="toggleSubmenu(item)"
              class="flex w-full items-center mb-2 justify-between gap-3 p-2 rounded-md transition-colors hover:bg-gray-100 dark:hover:bg-zinc-800"
            >
              <div class="flex items-center gap-3">
                <i class="text-xl w-6 material-symbols-outlined">{{ item.icon }}</i>
                <span class="font-medium">{{ item.label }}</span>
              </div>
              <i
                class="material-symbols-outlined transition-transform"
                [class.rotate-180]="item.isExpanded"
              >
                keyboard_arrow_down
              </i>
            </button>

            @if (item.isExpanded) {
              <ul class="ml-4 mb-2 flex flex-col gap-1 border-l border-zinc-200 dark:border-zinc-700">
                @for (subItem of item.subItems; track subItem.path) {
                  <li class="relative px-2">
                    <span
                      class="bg-zinc-200 dark:bg-zinc-700 rounded-full -translate-y-1/2 -translate-x-1/2 w-2 h-2 absolute left-0 top-1/2"
                    ></span>
      
                    <a
                      [routerLink]="subItem.path"
                      [routerLinkActiveOptions]="{ exact: true }"
                      routerLinkActive="bg-violet-100 text-violet-700 dark:bg-zinc-800 dark:text-zinc-50"
                      class="flex w-full items-center gap-3 p-2 rounded-md text-sm transition-colors hover:bg-gray-100 dark:hover:bg-zinc-800"
                    >
                      {{ subItem.label }}
                    </a>
                  </li>
                }
              </ul>
            }
          </div>
        }
      </li>
    }
  </ul>
</nav>
