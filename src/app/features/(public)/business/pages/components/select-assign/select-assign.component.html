<div
  id="store-page"
  class="relative min-h-screen w-full overflow-hidden bg-white font-sans text-zinc-800 antialiased dark:bg-zinc-950 dark:text-zinc-200"
>
  <div
    class="absolute -top-1/4 -left-1/4 -z-0 hidden h-[800px] w-[800px] bg-gradient-radial from-indigo-900/40 via-zinc-950 to-zinc-950 blur-3xl dark:block"
  ></div>

  <header class="relative flex w-full flex-col">
    <div
      class="relative h-[25vh] w-full bg-gradient-to-br from-indigo-500 via-violet-600 to-indigo-700"
    >
      <img
        *ngIf="business?.bannerUrl"
        [src]="business?.bannerUrl"
        alt="Banner da loja"
        class="absolute inset-0 h-full w-full object-cover z-10"
      />
    </div>

    <div class="container z-20 mx-auto flex flex-col px-6">
      <div class="z-20 flex flex-col items-start justify-between sm:flex-row">
        <div
          class="-mt-16 mr-10 flex min-h-32 relative overflow-hidden min-w-32 items-center justify-center rounded-full border-4 border-white bg-zinc-100 shadow-2xl shadow-black/50 dark:border-zinc-950 dark:bg-zinc-800"
        >
          <img
            *ngIf="business?.logoUrl"
            [src]="business?.logoUrl"
            alt="Banner da loja"
            class="absolute inset-0 h-full w-full object-cover z-20"
          />
        </div>

        <div class="flex flex-wrap items-center gap-2">
          <div class="mt-3">
            <h1 class="text-3xl font-bold text-zinc-900 md:text-4xl dark:text-white">
              {{ business?.name }}
            </h1>
            <p class="text-sm text-zinc-600 md:text-base dark:text-zinc-400">
              Produtos incríveis e atendimento de primeira.
            </p>
          </div>

          <div class="items-center justify-center flex gap-2">
            <button
              class="rounded-lg bg-indigo-600 px-4 py-2 font-semibold text-white transition-colors duration-300 hover:bg-indigo-500"
            >
              Seguir
            </button>
            <button
              class="rounded-lg bg-zinc-200 px-4 py-2 font-semibold text-zinc-800 transition-colors duration-300 hover:bg-zinc-300 dark:bg-zinc-700 dark:text-zinc-200 dark:hover:bg-zinc-600"
            >
              Mensagem
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-6 py-16">
    <header class="flex">
      <h2
        class="mb-8 text-left bg-clip-text text-3xl font-bold text-transparent bg-gradient-to-bl from-indigo-500 to-violet-500"
      >
        Nossa Equipe
      </h2>
    </header>

    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
      @for (usuario of business?.members; track usuario.id) {
        <button
          type="button"
          (click)="selectAssigner(usuario)"
          class="relative block cursor-pointer rounded-xl p-6 text-center border border-zinc-200 dark:border-zinc-800 ring-2 ring-transparent transition-all duration-200 focus:outline-none"
          [ngClass]="{
            'ring-indigo-500 bg-indigo-50/20 dark:bg-indigo-950/30 scale-105':
              selectedUser?.id === usuario.id,
            'bg-white hover:bg-zinc-100 dark:bg-zinc-800 dark:hover:bg-zinc-700':
              selectedUser?.id !== usuario.id,
          }"
        >
          <img
            [src]="usuario.photoUrl"
            [alt]="'Foto de ' + usuario.username"
            class="mx-auto mb-4 h-24 w-24 rounded-full object-cover transition-transform duration-300"
            [class.scale-110]="selectedUser?.id === usuario.id"
          />
          <h3 class="text-xl font-semibold text-zinc-600 saira-font dark:text-white">
            {{ usuario.username }}
          </h3>
          <p class="text-sm text-zinc-500 dark:text-zinc-400">Dono</p>

          <div
            [attr.data-selected]="selectedUser?.id === usuario.id"
            class="absolute scale-0 data-[selected=true]:scale-100 transition-all top-3 right-3 flex h-6 w-6 items-center justify-center rounded-full bg-indigo-600 text-white"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                clip-rule="evenodd"
              />
            </svg>
          </div>
        </button>
      }
    </div>

    <div class="mt-12 flex justify-center">
      <button
        (click)="next()"
        [attr.data-selected]="!!selectedUser"
        class="rounded-full bg-gradient-to-r scale-0 data-[selected=true]:scale-100 from-indigo-600 to-violet-600 px-8 py-3 text-lg font-bold text-white transition-all duration-200 hover:scale-105 ease-in-out"
      >
        Avançar com {{ selectedName }}
      </button>
    </div>
  </main>
</div>
