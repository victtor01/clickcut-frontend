<div
  id="store-page"
  class="relative w-full overflow-hidden lg:pt-5 lg:pl-4 bg-transparent font-sans text-gray-800 antialiased"
>
  <div
    class="absolute -top-1/4 -left-1/4 -z-0 hidden aspect-square bg-gradient-radial from-indigo-900/40 via-gray-950 to-gray-950 blur-3xl dark:block"
  ></div>

  <header class="relative flex w-full flex-col">
    <div
      class="relative aspect-[3/1] overflow-hidden lg:rounded-3xl w-full bg-gradient-to-br from-indigo-500 via-violet-600 to-indigo-700"
    >
      <img
        *ngIf="business?.bannerUrl"
        [src]="business?.bannerUrl"
        alt="Banner da loja"
        class="absolute inset-0 h-full w-full object-cover z-10"
      />
    </div>

    <div class="container z-20 mx-auto flex flex-col px-6">
      <div class="z-20 flex flex-col items-start justify-between sm:flex-row">
        <div
          class="-mt-16 mr-10 flex min-h-32 relative overflow-hidden min-w-32 items-center justify-center rounded-full border-4 border-white bg-stone-100 shadow-2xl shadow-black/50 dark:border-gray-950 dark:bg-gray-800"
        >
          <img
            *ngIf="business?.logoUrl"
            [src]="business?.logoUrl"
            alt="Banner da loja"
            class="absolute inset-0 h-full w-full object-cover z-20"
          />
        </div>

        <div class="flex flex-wrap items-center gap-2">
          <div class="mt-3">
            <h1 class="text-3xl font-bold text-gray-900 md:text-4xl dark:text-white">
              {{ business?.name }}
            </h1>
            <p class="text-sm text-gray-600 my-3 md:text-base dark:text-gray-400">
             {{business?.profile?.description}}
            </p>

            <a
              class="mt-1 flex items-center gap-2 text-sm font-medium text-gray-500 transition-colors hover:text-indigo-500 dark:text-gray-400 dark:hover:text-indigo-400"
            >
              <i class="material-symbols-outlined !text-base">call</i>
              <span class="text-lg">{{business?.profile?.phoneNumber}}</span>
            </a>
          </div>

          <div class="items-center justify-center flex gap-2">
            <button
              type="button"
              (click)="favorite()"
              class="rounded-lg items-center flex gap-3 bg-indigo-600 px-4 py-2 font-semibold text-indigo-100 transition-colors duration-300 hover:bg-indigo-500"
            >
              <i class="material-symbols-outlined">heart_plus</i>
              <span> Favoritar </span>
            </button>
            <button
              class="rounded-lg bg-stone-200 px-4 py-2 font-semibold text-gray-800 transition-colors duration-300 hover:bg-stone-30 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"
            >
              Mensagem
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container mx-auto px-6 py-16">
    <header class="flex">
      <h2
        class="mb-8 text-left text-lg font-bold tex-stone-500 dark:text-violet-50"
      >
        NOSSA EQUIPE
      </h2>
    </header>

    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3"> 
      @for (usuario of business?.members; track usuario.id) {
        <button
          type="button"
          (click)="selectAssigner(usuario)"
          class="relative block cursor-pointer rounded-xl p-6 text-center border border-gray-200 dark:border-gray-800 ring-2 ring-transparent transition-all duration-200 focus:outline-none"
          [ngClass]="{
            'ring-indigo-500 bg-indigo-50/20 dark:bg-indigo-950/30 scale-105 !border-indigo-500':
              selectedUser?.id === usuario.id,
            'bg-white hover:bg-stone-100 dark:bg-gray-800 dark:hover:bg-gray-700':
              selectedUser?.id !== usuario.id,
          }"
        >
          <img
            [src]="usuario.photoUrl"
            [alt]="'Foto de ' + usuario.username"
            class="mx-auto mb-4 h-24 w-24 rounded-full object-cover transition-transform duration-300"
            [class.scale-110]="selectedUser?.id === usuario.id"
          />
          <h3 class="text-xl font-semibold text-gray-600 saira-font dark:text-white">
            {{ usuario.username }}
          </h3>
          <p class="text-sm text-gray-500 dark:text-gray-400">Dono</p>

          <div
            [attr.data-selected]="selectedUser?.id === usuario.id"
            class="absolute scale-0 data-[selected=true]:scale-100 transition-all top-3 right-3 flex h-6 w-6 items-center justify-center rounded-full bg-indigo-600 text-white"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                clip-rule="evenodd"
              />
            </svg>
          </div>
        </button>
      }
    </div>
  </main>
</div>
